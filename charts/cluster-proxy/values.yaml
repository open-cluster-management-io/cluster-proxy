# Image registry
registry: quay.io/open-cluster-management

# Image of the cluster-gateway instances
image: cluster-proxy

# Image tag
tag:

# Number of replicas
replicas: 1

spokeAddonNamespace: "open-cluster-management-cluster-proxy"

proxyServerImage: quay.io/open-cluster-management/cluster-proxy
proxyAgentImage: quay.io/open-cluster-management/cluster-proxy

proxyServer:
  entrypointLoadBalancer: false
  entrypointAddress: ""
  port: 8091
  imagePullPolicy: IfNotPresent

installByPlacement:
  placementName: ""
  placementNamespace: ""

enableKubeApiProxy: true

# Enable user server deployment
# Note: When userServer.enabled is true, the user server certificate will be automatically
# generated and rotated by the controller. No manual secret creation is required.
enableServiceProxy: false
enableImpersonation: true

# User server configuration for automatic certificate rotation
# When enabled, certificates are automatically generated and rotated by the controller.
# The certificate always includes Kubernetes internal service DNS names automatically.
userServer:
  # Enable automatic certificate rotation for user server
  enabled: false
  # Namespace where user server is deployed (defaults to ProxyServer namespace if empty)
  namespace: ""
  # Service name for user server
  serviceName: "cluster-proxy-addon-user"
  # Additional SANs for the certificate (e.g., external hostnames)
  # Example: ["user-server.example.com", "10.0.0.100"]
  additionalSANs: []
