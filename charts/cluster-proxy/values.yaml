# Image registry
registry: quay.io/open-cluster-management

# Image of the cluster-gateway instances
image: cluster-proxy

# Image tag
tag:

# Number of replicas
replicas: 1

spokeAddonNamespace: "open-cluster-management-cluster-proxy"

proxyServerImage: quay.io/open-cluster-management/cluster-proxy
proxyAgentImage: quay.io/open-cluster-management/cluster-proxy

proxyServer:
  entrypointLoadBalancer: false
  entrypointAddress: ""
  port: 8091
  imagePullPolicy: IfNotPresent

installByPlacement:
  placementName: ""
  placementNamespace: ""

enableKubeApiProxy: true

# Enable user server deployment
# Note: When userServer.enabled is true, the user server certificate will be automatically
# generated and rotated by the controller. No manual secret creation is required.
enableServiceProxy: false
enableImpersonation: true

# Feature gates for alpha/experimental features
# Format: key=value pairs separated by commas
# Example: "clusterProfile=true,someOtherFeature=false"
# Available feature gates:
#   clusterProfile: Enable ClusterProfile controller for cluster-inventory-api integration (default: false)
featureGates:
  clusterProfile: false

# User server configuration for automatic certificate rotation
# When enabled, certificates are automatically generated and rotated by the controller.
# The certificate is stored in the ProxyServer namespace with fixed names:
# - Secret: cluster-proxy-user-serving-cert
# - Service: cluster-proxy-addon-user
userServer:
  # Enable automatic certificate rotation for user server
  enabled: false
  # Additional SANs for the certificate (e.g., external hostnames)
  # Example: ["user-server.example.com", "10.0.0.100"]
  additionalSANs: []
